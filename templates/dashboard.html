<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebBoost - Analysis Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Cursor Trail Container -->
    <div id="cursorTrail"></div>

    <div class="landing-container">
        <nav class="navbar">
            <div class="logo">
                <a href="/" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 8px;">
                    <span class="logo-icon">â™¦</span> WebBoost 
                </a>
            </div>
        </nav>

        <div class="results-header">
            <h1 class="results-title">Analysis Dashboard</h1>
            <p class="results-url">{{ results.url }}</p>
        </div>

        <div class="results-card">
            <!-- Overall Score -->
            <div class="score-card overall-score" style="--overall-color: {% if results.overall_score >= 80 %}#10b981{% elif results.overall_score >= 60 %}#f97316{% else %}#ef4444{% endif %}; --overall-progress-deg: {{ results.overall_score * 3.6 }}deg; --overall-gradient: {% if results.overall_score >= 80 %}linear-gradient(135deg, #10b981 0%, #34d399 100%){% elif results.overall_score >= 60 %}linear-gradient(135deg, #f97316 0%, #fb923c 100%){% else %}linear-gradient(135deg, #ef4444 0%, #f87171 100%){% endif %}">
                <div class="overall-score-left">
                    <h2 class="overall-score-title">Overall Score</h2>
                    <div class="description-toggle" onclick="toggleDescription()">
                        <span class="toggle-icon" id="toggleIcon">â–¼</span>
                        <span>Show Description</span>
                    </div>
                    <div class="description-content" id="descriptionContent">
                        <div class="description-text">
                            The overall score is a <strong>weighted average</strong>, not a simple average.
                            This means some criteria matter more than others:<br><br>
                            <strong>High Weight (20%):</strong><br>
                            â€¢ Informativeness - How valuable your content is<br><br>
                            <strong>Medium Weight (15% each):</strong><br>
                            â€¢ Readability - How easy to read<br>
                            â€¢ Engagement - How interesting<br>
                            â€¢ Uniqueness - How original<br><br>
                            <strong>Lower Weight (10% each):</strong><br>
                            â€¢ Layout Quality - Design & mobile-friendliness<br>
                            â€¢ Discoverability - Navigation & search<br><br>
                            <strong>Small Weight (5% each):</strong><br>
                            â€¢ SEO Keywords - Search optimization<br>
                            â€¢ Ad Experience - Ad intrusiveness<br>
                            â€¢ Social Integration - Social media presence<br><br>
                            <em>Think of it like: A test where some questions are worth more points than others!</em>
                        </div>
                    </div>
                </div>
                <div class="overall-score-right">
                    <div class="overall-circular-progress">
                        <div class="overall-inner-circle">
                            <span class="overall-score-number">{{ "%.0f"|format(results.overall_score) }}</span>
                        </div>
                    </div>
                </div>
            </div>

            <script>
                function toggleDescription() {
                    const content = document.getElementById('descriptionContent');
                    const icon = document.getElementById('toggleIcon');
                    content.classList.toggle('expanded');
                    icon.classList.toggle('expanded');
                }
            </script>

            <!-- Detailed Scores Grid -->
            <div class="scores-grid">
                <h3>Detailed Analysis</h3>
                <div class="scores-container">
                    {% set tooltips = {
                        'readability': '<strong>How easy is your content to read?</strong><br><br>We check:<br>â€¢ Sentence length (shorter = better)<br>â€¢ Word complexity (simpler words = better)<br>â€¢ Reading level (aim for 8th-9th grade level)<br><br><em>Think of it like: Can a 13-year-old understand your content?</em>',
                        'informativeness': '<strong>How valuable and thorough is your content?</strong><br><br>We check:<br>â€¢ Word count (more content = more depth)<br>â€¢ Headers and structure (organized content)<br>â€¢ Images and links (supporting materials)<br>â€¢ Citations and sources (credible information)<br><br><em>Think of it like: Is your content a quick snack or a full meal?</em>',
                        'engagement': '<strong>How interesting and interactive is your content?</strong><br><br>We check:<br>â€¢ Positive language (enthusiastic words)<br>â€¢ Questions and exclamations (conversational tone)<br>â€¢ Call-to-action buttons (clear next steps)<br>â€¢ Easy to skim (headers, lists, bold text)<br><br><em>Think of it like: Does your content make people want to keep reading?</em>',
                        'uniqueness': '<strong>How original and unique is your content?</strong><br><br>We check:<br>â€¢ Original research and data<br>â€¢ Personal perspective (first-person writing)<br>â€¢ Word variety (not repetitive)<br>â€¢ Primary sources (interviews, surveys, studies)<br><br><em>Think of it like: Is this content only found on your site, or copied from elsewhere?</em>',
                        'layout_quality': '<strong>How well-designed and user-friendly is your site?</strong><br><br>We check:<br>â€¢ Mobile-friendly (works on phones)<br>â€¢ HTTPS security (secure connection)<br>â€¢ Clean design (good spacing, fonts)<br>â€¢ Proper structure (one main heading)<br><br><em>Think of it like: Does your site look professional and work on all devices?</em>',
                        'discoverability': '<strong>How easy is it to find content on your site?</strong><br><br>We check:<br>â€¢ Search function (can users search?)<br>â€¢ Navigation menu (clear menu structure)<br>â€¢ Breadcrumbs (shows where you are)<br>â€¢ Categories and tags (organized content)<br>â€¢ Featured content (highlights important pages)<br><br><em>Think of it like: Can visitors easily find what they\'re looking for?</em>',
                        'seo_keywords': '<strong>How well is your site optimized for search engines?</strong><br><br>We check:<br>â€¢ Page title (30-60 characters, descriptive)<br>â€¢ Meta description (120-160 characters)<br>â€¢ Keyword usage (1-2% keyword density)<br>â€¢ Internal links (links to other pages on your site)<br>â€¢ Google indexing (is your site in Google?)<br><br><em>Think of it like: Will Google show your site when people search?</em>',
                        'ad_experience': '<strong>How intrusive are ads on your site?</strong><br><br>We check:<br>â€¢ Ad density (fewer ads = better)<br>â€¢ Ad placement (not blocking content)<br>â€¢ Auto-playing videos/audio (annoying for users)<br>â€¢ Pop-ups and overlays (interrupting experience)<br><br><em>Think of it like: Do ads get in the way of reading your content?</em>',
                        'social_integration': '<strong>How well is your site connected to social media?</strong><br><br>We check:<br>â€¢ Social media links (Facebook, Twitter, etc.)<br>â€¢ Share buttons (easy to share content)<br>â€¢ Social proof (share counts, testimonials)<br>â€¢ Follower counts (shows popularity)<br><br><em>Think of it like: Can visitors easily share your content on social media?</em>'
                    } %}
                    {% set display_names = {
                        'ad_experience': 'Ad Free Experience',
                        'seo_keywords': 'SEO Score',
                        'social_integration': 'Social Media',
                        'layout_quality': 'Design & Layout'
                    } %}
                    {% for key, value in results.scores.items() %}
                    {% set metric_color = '#ef4444' %}
                    {% set metric_gradient = 'linear-gradient(135deg, #ef4444 0%, #f87171 100%)' %}
                    {% if value >= 80 %}
                        {% set metric_color = '#10b981' %}
                        {% set metric_gradient = 'linear-gradient(135deg, #10b981 0%, #34d399 100%)' %}
                    {% elif value >= 60 %}
                        {% set metric_color = '#f97316' %}
                        {% set metric_gradient = 'linear-gradient(135deg, #f97316 0%, #fb923c 100%)' %}
                    {% endif %}
                    <div class="score-card-item" style="--metric-color: {{ metric_color }}; --metric-gradient: {{ metric_gradient }}">
                        <div class="score-card-header">
                            <span class="score-card-title">{{ display_names.get(key, key.replace('_', ' ').title()) }}</span>
                            <span class="tooltip">
                                <span class="info-icon" title="Click for details">i</span>
                                <span class="tooltiptext">
                                    <div class="tooltip-title">{{ display_names.get(key, key.replace('_', ' ').title()) }}</div>
                                    <div class="tooltip-content">
                                        {{ tooltips.get(key, 'No description available.') | safe }}
                                    </div>
                                </span>
                            </span>
                        </div>
                        <div class="circular-progress" tabindex="0" style="--progress-deg: {{ value * 3.6 }}deg">
                            <div class="inner-circle">
                                <span class="score-number">{{ "%.0f"|format(value) }}</span>
                            </div>
                        </div>
                        <!-- Hover overlay showing internal component numbers -->
                        <div class="metric-overlay">
                            <div class="overlay-header">
                                <h4>{{ display_names.get(key, key.replace('_', ' ').title()) }} Breakdown</h4>
                            </div>
                            <div class="mini-metrics">
                                {% if results.score_breakdowns and results.score_breakdowns.get(key) %}
                                    {% set bd = results.score_breakdowns[key] %}
                                    
                                    {% if key == 'readability' %}
                                        <div class="mini-item">
                                            <div class="mini-label">Flesch Reading Ease</div>
                                            <div class="mini-value">{{ bd.flesch_reading_ease|round(1) }}</div>
                                            <div class="mini-ideal">Ideal: 60-70</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Flesch-Kincaid Grade</div>
                                            <div class="mini-value">{{ bd.flesch_kincaid_grade|round(1) }}</div>
                                            <div class="mini-ideal">Ideal: 6-8</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Gunning Fog Index</div>
                                            <div class="mini-value">{{ bd.gunning_fog|round(1) }}</div>
                                            <div class="mini-ideal">Ideal: < 12</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">SMOG Index</div>
                                            <div class="mini-value">{{ bd.smog_index|round(1) }}</div>
                                            <div class="mini-ideal">Ideal: 8-10</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Automated Readability</div>
                                            <div class="mini-value">{{ bd.automated_readability|round(1) }}</div>
                                            <div class="mini-ideal">Ideal: 6-8</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Coleman-Liau Index</div>
                                            <div class="mini-value">{{ bd.coleman_liau|round(1) }}</div>
                                            <div class="mini-ideal">Ideal: 6-8</div>
                                        </div>
                                        
                                    {% elif key == 'informativeness' %}
                                        <div class="mini-item">
                                            <div class="mini-label">Word Count</div>
                                            <div class="mini-value">{{ bd.word_count }}</div>
                                            <div class="mini-ideal">Ideal: 1500+ words</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Headers Found</div>
                                            <div class="mini-value">{{ bd.header_count }}</div>
                                            <div class="mini-ideal">Ideal: 10+ headers</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Images</div>
                                            <div class="mini-value">{{ bd.image_count }}</div>
                                            <div class="mini-ideal">Ideal: 5+ images</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Links</div>
                                            <div class="mini-value">{{ bd.link_count }}</div>
                                            <div class="mini-ideal">Ideal: 10+ links</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Depth Score</div>
                                            <div class="mini-value">{{ bd.depth_score }}/30</div>
                                            <div class="mini-ideal">Based on word count</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Structure Score</div>
                                            <div class="mini-value">{{ bd.structure_score }}/25</div>
                                            <div class="mini-ideal">Based on headers</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Media Score</div>
                                            <div class="mini-value">{{ bd.media_score }}/20</div>
                                            <div class="mini-ideal">Images + links</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Citation Score</div>
                                            <div class="mini-value">{{ bd.citation_score }}/25</div>
                                            <div class="mini-ideal">References found</div>
                                        </div>
                                        
                                    {% elif key == 'engagement' %}
                                        <div class="mini-item">
                                            <div class="mini-label">Positive Words</div>
                                            <div class="mini-value">{{ bd.positive_words }}</div>
                                            <div class="mini-ideal">More is better</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Negative Words</div>
                                            <div class="mini-value">{{ bd.negative_words }}</div>
                                            <div class="mini-ideal">Less is better</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Questions</div>
                                            <div class="mini-value">{{ bd.questions }}</div>
                                            <div class="mini-ideal">5-10 questions</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Exclamations</div>
                                            <div class="mini-value">{{ bd.exclamations }}</div>
                                            <div class="mini-ideal">Use sparingly</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">CTA Words</div>
                                            <div class="mini-value">{{ bd.cta_words }}</div>
                                            <div class="mini-ideal">3-5 calls-to-action</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Sentiment Score</div>
                                            <div class="mini-value">{{ bd.sentiment_score|round(1) }}/100</div>
                                            <div class="mini-ideal">50+ is positive</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Interaction Score</div>
                                            <div class="mini-value">{{ bd.interaction_score }}/30</div>
                                            <div class="mini-ideal">Questions + CTAs</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Skimming Score</div>
                                            <div class="mini-value">{{ bd.skimming_score }}/100</div>
                                            <div class="mini-ideal">Easy to scan</div>
                                        </div>
                                        
                                    {% elif key == 'uniqueness' %}
                                        <div class="mini-item">
                                            <div class="mini-label">Research Words</div>
                                            <div class="mini-value">{{ bd.research_words }}</div>
                                            <div class="mini-ideal">5+ mentions</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">First Person Words</div>
                                            <div class="mini-value">{{ bd.first_person_words }}</div>
                                            <div class="mini-ideal">Personal voice</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Unique Word Ratio</div>
                                            <div class="mini-value">{{ (bd.unique_word_ratio * 100)|round(1) }}%</div>
                                            <div class="mini-ideal">Ideal: 40%+</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Primary Research</div>
                                            <div class="mini-value">{{ bd.primary_research_words }}</div>
                                            <div class="mini-ideal">Original studies</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Research Bonus</div>
                                            <div class="mini-value">{{ bd.research_bonus|round(1) }}/20</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">First Person Bonus</div>
                                            <div class="mini-value">{{ bd.first_person_bonus|round(1) }}/15</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Uniqueness Bonus</div>
                                            <div class="mini-value">{{ bd.uniqueness_bonus|round(1) }}/15</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Primary Research Bonus</div>
                                            <div class="mini-value">{{ bd.primary_research_bonus|round(1) }}/10</div>
                                        </div>
                                        
                                    {% elif key == 'discoverability' %}
                                        <div class="mini-item">
                                            <div class="mini-label">Search Function</div>
                                            <div class="mini-value">{{ 'Yes' if bd.has_search else 'No' }}</div>
                                            <div class="mini-ideal">Score: {{ bd.search_score }}/15</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Navigation Menus</div>
                                            <div class="mini-value">{{ bd.nav_count }}</div>
                                            <div class="mini-ideal">Score: {{ bd.navigation_score }}/20</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Breadcrumbs</div>
                                            <div class="mini-value">{{ 'Yes' if bd.has_breadcrumbs else 'No' }}</div>
                                            <div class="mini-ideal">Score: {{ bd.breadcrumb_score }}/15</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Sitemap Link</div>
                                            <div class="mini-value">{{ 'Yes' if bd.has_sitemap else 'No' }}</div>
                                            <div class="mini-ideal">Score: {{ bd.sitemap_score }}/10</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Featured Posts</div>
                                            <div class="mini-value">{{ bd.featured_posts }}</div>
                                            <div class="mini-ideal">Score: {{ bd.featured_score }}/15</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Category Score</div>
                                            <div class="mini-value">{{ bd.category_score }}/25</div>
                                            <div class="mini-ideal">Good organization</div>
                                        </div>
                                        
                                    {% elif key == 'ad_experience' %}
                                        <div class="mini-item">
                                            <div class="mini-label">Total Ad Indicators</div>
                                            <div class="mini-value">{{ bd.ad_indicator_count }}</div>
                                            <div class="mini-ideal">Ideal: 2</div>
                                        </div>
                                        {% if bd.ad_types %}
                                            {% for ad_type, count in bd.ad_types.items() %}
                                            <div class="mini-item">
                                                <div class="mini-label">{{ ad_type }}</div>
                                                <div class="mini-value">{{ count }}</div>
                                            </div>
                                            {% endfor %}
                                        {% endif %}
                                        <div class="mini-item">
                                            <div class="mini-label">Placement Penalty</div>
                                            <div class="mini-value">-{{ bd.placement_penalty }}</div>
                                            <div class="mini-ideal">Bad placements</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Autoplay Penalty</div>
                                            <div class="mini-value">-{{ bd.autoplay_penalty }}</div>
                                            <div class="mini-ideal">Auto-playing media</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Ad Density Penalty</div>
                                            <div class="mini-value">-{{ bd.ad_density_penalty }}</div>
                                            <div class="mini-ideal">Too many ads</div>
                                        </div>
                                        
                                    {% elif key == 'social_integration' %}
                                        <div class="mini-item">
                                            <div class="mini-label">Platforms Found</div>
                                            <div class="mini-value">{{ bd.platform_count }}</div>
                                            <div class="mini-ideal">Ideal: 3-5 platforms</div>
                                        </div>
                                        {% if bd.platforms_found %}
                                        <div class="mini-item">
                                            <div class="mini-label">Detected Platforms</div>
                                            <div class="mini-value">{{ bd.platforms_found|join(', ') }}</div>
                                        </div>
                                        {% endif %}
                                        <div class="mini-item">
                                            <div class="mini-label">Sharing Buttons</div>
                                            <div class="mini-value">{{ bd.sharing_buttons }}</div>
                                            <div class="mini-ideal">Score: {{ bd.sharing_score }}</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Platform Score</div>
                                            <div class="mini-value">{{ bd.platform_score }}/100</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Social Proof Score</div>
                                            <div class="mini-value">{{ bd.social_proof_score }}/35</div>
                                            <div class="mini-ideal">Shares + followers</div>
                                        </div>
                                        
                                    {% elif key == 'layout_quality' %}
                                        <div class="mini-item">
                                            <div class="mini-label">Viewport Meta Tag</div>
                                            <div class="mini-value">{{ 'Yes' if bd.has_viewport else 'No' }}</div>
                                            <div class="mini-ideal">Score: {{ bd.viewport_score }}/10</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Mobile Friendly</div>
                                            <div class="mini-value">{{ 'Yes' if bd.handheld_friendly else 'No' }}</div>
                                            <div class="mini-ideal">Essential</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Touch Optimized</div>
                                            <div class="mini-value">{{ 'Yes' if bd.touch_optimized else 'No' }}</div>
                                            <div class="mini-ideal">Essential</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">HTTPS Secure</div>
                                            <div class="mini-value">{{ 'Yes' if bd.has_https else 'No' }}</div>
                                            <div class="mini-ideal">Score: {{ bd.security_score }}/10</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">H1 Tag Count</div>
                                            <div class="mini-value">{{ bd.h1_count }}</div>
                                            <div class="mini-ideal">Ideal: 1</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Mobile Score</div>
                                            <div class="mini-value">{{ bd.mobile_score }}/10</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Whitespace Score</div>
                                            <div class="mini-value">{{ bd.whitespace_score }}/15</div>
                                            <div class="mini-ideal">Good spacing</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Typography Score</div>
                                            <div class="mini-value">{{ bd.typography_score }}/10</div>
                                            <div class="mini-ideal">Readable fonts</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Color Contrast</div>
                                            <div class="mini-value">{{ bd.color_contrast_score }}/5</div>
                                            <div class="mini-ideal">Accessibility</div>
                                        </div>
                                        
                                    {% elif key == 'seo_keywords' %}
                                        <div class="mini-item">
                                            <div class="mini-label">Has Title Tag</div>
                                            <div class="mini-value">{{ 'Yes' if bd.has_title else 'No' }}</div>
                                            <div class="mini-ideal">Score: {{ bd.title_score }}/10</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Title Length</div>
                                            <div class="mini-value">{{ bd.title_length }} chars</div>
                                            <div class="mini-ideal">Ideal: 30-60</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Meta Description</div>
                                            <div class="mini-value">{{ 'Yes' if bd.has_meta_desc else 'No' }}</div>
                                            <div class="mini-ideal">Score: {{ bd.meta_desc_score }}/10</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Meta Desc Length</div>
                                            <div class="mini-value">{{ bd.meta_desc_length }} chars</div>
                                            <div class="mini-ideal">Ideal: 120-160</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">H1 Tags</div>
                                            <div class="mini-value">{{ bd.h1_count }}</div>
                                            <div class="mini-ideal">Ideal: 1</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Google Indexed</div>
                                            <div class="mini-value">{{ 'Yes' if bd.is_indexed else 'No' }}</div>
                                            <div class="mini-ideal">Score: {{ bd.indexing_score }}/10</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Schema Markup</div>
                                            <div class="mini-value">{{ bd.schema_markup_count }}</div>
                                            <div class="mini-ideal">Score: {{ bd.schema_score }}/10</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Keyword Score</div>
                                            <div class="mini-value">{{ bd.keyword_score }}/30</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Linking Score</div>
                                            <div class="mini-value">{{ bd.linking_score }}/20</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">Freshness Score</div>
                                            <div class="mini-value">{{ bd.freshness_score }}/10</div>
                                        </div>
                                        <div class="mini-item">
                                            <div class="mini-label">URL Score</div>
                                            <div class="mini-value">{{ bd.url_score }}/10</div>
                                        </div>
                                    {% endif %}
                                    
                                    <div class="mini-item final-score-item">
                                        <div class="mini-label"><strong>Final Score</strong></div>
                                        <div class="mini-value"><strong>{{ "%.0f"|format(bd.final_score) }}/100</strong></div>
                                    </div>
                                {% else %}
                                    <div class="mini-item">
                                        <div class="mini-label">No breakdown data</div>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Metrics -->
            <div class="metrics-section">
                <h3>Key Metrics</h3>
                <div class="metrics-grid">
                    {% if results.free_data_sources.performance and results.free_data_sources.performance.load_time %}
                    <div class="metric-item">
                        <div class="metric-label">
                            Load Time
                            <span class="tooltip">
                                <span class="info-icon" title="Click for details">i</span>
                                <span class="tooltiptext">
                                    <div class="tooltip-title">Load Time</div>
                                    <div class="tooltip-content">How long it takes for your page to fully load. Lower is better! Aim for under 3 seconds. Fast loading keeps visitors from leaving.</div>
                                </span>
                            </span>
                        </div>
                        <div class="metric-value">{{ "%.2f"|format(results.free_data_sources.performance.load_time) }}s</div>
                    </div>
                    {% endif %}
                    
                    {% if results.free_data_sources.keyword_analysis %}
                    <div class="metric-item">
                        <div class="metric-label">
                            Keyword Density
                            <span class="tooltip">
                                <span class="info-icon" title="Click for details">i</span>
                                <span class="tooltiptext">
                                    <div class="tooltip-title">Keyword Density</div>
                                    <div class="tooltip-content">The percentage of times your main keyword appears in the content. Ideal range is 1-2%. Too low = not optimized, too high = spammy.</div>
                                </span>
                            </span>
                        </div>
                        <div class="metric-value">{{ "%.2f"|format(results.free_data_sources.keyword_analysis.keyword_density) }}%</div>
                    </div>
                    {% endif %}

                    {% if results.free_data_sources.internal_linking %}
                    <div class="metric-item">
                        <div class="metric-label">
                            Internal Links
                            <span class="tooltip">
                                <span class="info-icon" title="Click for details">i</span>
                                <span class="tooltiptext">
                                    <div class="tooltip-title">Internal Links</div>
                                    <div class="tooltip-content">Links pointing to other pages on your own website. More internal links help visitors discover more content and improve SEO. Aim for 3-10 per page.</div>
                                </span>
                            </span>
                        </div>
                        <div class="metric-value">{{ results.free_data_sources.internal_linking.internal_links }}</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-label">
                            External Links
                            <span class="tooltip">
                                <span class="info-icon" title="Click for details">i</span>
                                <span class="tooltiptext">
                                    <div class="tooltip-title">External Links</div>
                                    <div class="tooltip-content">Links pointing to other websites. External links to reputable sources add credibility and value. Aim for 2-5 quality external links per page.</div>
                                </span>
                            </span>
                        </div>
                        <div class="metric-value">{{ results.free_data_sources.internal_linking.external_links }}</div>
                    </div>
                    {% endif %}

                    {% if results.free_data_sources.citation_analysis %}
                    <div class="metric-item">
                        <div class="metric-label">
                            Citations
                            <span class="tooltip">
                                <span class="info-icon" title="Click for details">i</span>
                                <span class="tooltiptext">
                                    <div class="tooltip-title">Citations Found</div>
                                    <div class="tooltip-content">Number of references, sources, or citations in your content. Citations add credibility and show you've done research. More citations = more trustworthy content.</div>
                                </span>
                            </span>
                        </div>
                        <div class="metric-value">{{ results.free_data_sources.citation_analysis.citation_count }}</div>
                    </div>
                    {% endif %}
                </div>
            </div>

            <!-- Recommendations -->
            <div class="recommendations-section">
                <h3>ðŸ’¡ Recommendations</h3>
                <div class="recommendations-list">
                    {% for rec in results.recommendations %}
                    <div class="recommendation-item 
                        {% if 'ðŸ”´' in rec %}critical
                        {% elif 'ðŸŸ ' in rec %}high
                        {% elif 'ðŸŸ¡' in rec %}medium
                        {% elif 'ðŸŸ¢' in rec %}low
                        {% elif 'âœ…' in rec %}excellent
                        {% endif %}">
                        {{ rec.replace('ðŸ”´', '').replace('ðŸŸ ', '').replace('ðŸŸ¡', '').replace('ðŸŸ¢', '').replace('âœ…', '').strip() }}
                    </div>
                    {% endfor %}
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 40px;">
                <a href="/analyzer" class="cta-button" style="text-decoration: none; display: inline-block; width: auto; padding: 12px 32px;">Analyze Another Page</a>
            </div>
        </div>

        <footer class="landing-footer">
         Instant Results â€¢ Actionable Insights
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/cursorTrail.js') }}"></script>
</body>
</html>
